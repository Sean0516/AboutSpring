异步消息有两个主要的概念  ： 消息代理 和目的地 。当一个应用发生消息时，会将消息发送给一个消息代理 ，消息代理可以确保消息被投递到指定的目的地，同时解放发送者，使其能够继续进行其他的业务 。 每条异步消息都带有一个 目的地，等待消费者来消费它。尽管不同的消息系统会提供不同的消息路由模式，但是有两种通用的目的地： 队列 和 主题  每种类型都和特定的消息模型相关联 。分别是点对点模型和发布（队列）/订阅模型（主题）

### 点对点消息模型：（rabbit mq）
在点对点模型中，每一条消息都有一个发送者和一个接收者，当消息代理得到消息时，它将消息放入一个队列这种，当接收者请求队列中的下一条消息时，消息会从队列中取出，并投递给接收者。因为消息投递后会从队列中删除，这样就可以保证消息只能投递给一个接收者

虽然消息队列的每一条消息只能投递给一个接收者，但是并不意味着只能使用一个接收者从队列中获取消息，可以使用几个接收者来处理消息队列中的消息，根据测试发现，消息队列会根据接受者排队的顺序，循环的消费队列里的消息。当然，在点对点的消息中，如果有多个接收者监听队列，无法知道特定的某条消息会由哪一个接收者处理，这样我们只需要简单的为队列添加新的监听器就能提高应用消息处理能力

### 发布--- 订阅消息模型：(kafka)
发布--订阅消息模型，消息会发送给一个主题，与队列类似，多个接收者可以监听同一个主题，但是，不同的在于，消息不再是值投递给一个接收者，而是订阅了主题的所有订阅者都会接收到此消息的副本。发布者并不知道谁订阅了它的消息，发布者只会将消息发送给一个特定的主题-- 而不知道有谁在监听这个主题 


### 同步通讯机制访问远程服务客户端存在的限制
1. 同步通讯意味着等待，当客户端调用远程服务的方法时，必须等待远程方法结束后才能继续执行，如果客户端平凡的与远程服务进行通信，或者远程服务响应慢，那么会对客户端应用的性能带来负面影响
2. 客户端通过服务接口与远程服务相耦合，如果服务接口发生变化，此服务的所有客户端都需要做出相应的改变
3. 客户端与远程服务的位置耦合，客户端必须配置服务的忘了位置，这样它才知道如何与远程服务进行交互，如果网络进行调整，客户端也需要重新配置网络
4. 客户端与服务的可用性耦合，如果服务端不可用，客户端实际上也无法正常运行


### 异步消息的优点

##### 无需等待
该优点解决了第一个同步通信等待的问题 客户端不必等待消息被处理，客户端只需要将消息发送给消息代理，既可以确信消息会被投递给相应的目的地 ，因此不需要等待，客户端可以继续执行其他的任务，使得客户端的性能能够极大的提高

##### 面向消息和解耦
与同步消息的方法调用不同，异步消息是以数据为中心的，客户端和服务端的方法并没有特定的签名绑定， 任何可以处理数据的队列或主题订阅者都可以处理由客户端发送的消息，而客户端不必了解远程服务的任何规范
##### 位置独立
消息客户端不需要知道处理它的消息或服务的位置在哪里，客户端只需要通过队列=或主题来发送消息， 其他的服务只需要能够从队列或主题中获取消息就可以了，消息客户端不需要关注服务来自哪里

##### 确保投递
使用异步消息，当消息客户端发送消息后，不需要担心消息是否被投递， 即使在消息发送时，服务无法使用，消息也会被存储起来，知道服务重新开始可以使用


